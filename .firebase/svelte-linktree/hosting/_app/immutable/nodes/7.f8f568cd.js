import{_ as ne,R as ae,k as oe,l as se,m as re,d as ie}from"../chunks/firebase.312fba77.js";import{H as le}from"../chunks/control.f5b05b5f.js";import{s as ce,F as ue,g as y,c as S,l as I,G as de,h as R,d as T,i as H,m as A,k as L,B as V,H as me}from"../chunks/scheduler.d978c4dc.js";import{S as he,i as fe,d as F,q as W,v as _e,e as b,g as p,n as g,a as C,s as X,b as B,c as pe,t as G,j as ge,k as ve,m as be,l as we,h as ke}from"../chunks/index.7cd3bf66.js";import{U as ee,g as Ee,a as Pe}from"../chunks/UserLink.b616fe44.js";function Y(n,e){if(isNaN(n)||n<400||n>599)throw new Error(`HTTP error status codes must be between 400 and 599 â€” ${n} is invalid`);return new le(n,e)}new TextEncoder;const ye=async({params:n})=>{var c,l;const e=ne(ie,"users"),o=ae(e,se("username","==",n.username),oe(1)),d=await re(o),_=(c=d.docs[0])==null?void 0:c.exists(),t=(l=d.docs[0])==null?void 0:l.data();if(!_)throw Y(404,"that user doesnt exist!");if(!t.published)throw Y(403,`The profile of @${t.username} is not public!`);return{username:t.username,photoURL:t.photoURL,bio:t.bio,links:t.links??[]}},Te=Object.freeze(Object.defineProperty({__proto__:null,load:ye},Symbol.toStringTag,{value:"Module"})),j="src/routes/[username]/+page.svelte";function Z(n,e,o){const d=n.slice();return d[1]=e[o],d}function z(n){let e,o,d,_;const t=[n[1]];let c={};for(let u=0;u<t.length;u+=1)c=ue(c,t[u]);o=new ee({props:c,$$inline:!0});const l={c:function(){e=y("li"),ge(o.$$.fragment),d=S(),this.h()},l:function(m){e=R(m,"LI",{});var v=H(e);ve(o.$$.fragment,v),d=T(v),v.forEach(b),this.h()},h:function(){L(e,j,27,6,609)},m:function(m,v){C(m,e,v),be(o,e,null),g(e,d),_=!0},p:function(m,v){const f=v&1?Ee(t,[Pe(m[1])]):{};o.$set(f)},i:function(m){_||(B(o.$$.fragment,m),_=!0)},o:function(m){G(o.$$.fragment,m),_=!1},d:function(m){m&&b(e),we(o)}};return F("SvelteRegisterBlock",{block:l,id:z.name,type:"each",source:"(24:4) {#each data.links as item}",ctx:n}),l}function D(n){let e,o,d,_,t,c,l,u=n[0].username+"",m,v,f,$,M,E,x=(n[0].bio??"no bio yet...")+"",q,N,k,w;document.title=e="@"+n[0].username+" Links";let P=W(n[0].links),s=[];for(let h=0;h<P.length;h+=1)s[h]=z(Z(n,P,h));const te=h=>G(s[h],1,1,()=>{s[h]=null}),J={c:function(){o=y("meta"),_=S(),t=y("main"),c=y("h1"),l=I("@"),m=I(u),v=S(),f=y("img"),M=S(),E=y("p"),q=I(x),N=S(),k=y("ul");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l:function(r){const i=de("svelte-1ui6vuc",document.head);o=R(i,"META",{name:!0,content:!0}),i.forEach(b),_=T(r),t=R(r,"MAIN",{class:!0});var a=H(t);c=R(a,"H1",{class:!0});var U=H(c);l=A(U,"@"),m=A(U,u),U.forEach(b),v=T(a),f=R(a,"IMG",{src:!0,alt:!0,width:!0,class:!0}),M=T(a),E=R(a,"P",{class:!0});var K=H(E);q=A(K,x),K.forEach(b),N=T(a),k=R(a,"UL",{class:!0});var Q=H(k);for(let O=0;O<s.length;O+=1)s[O].l(Q);Q.forEach(b),a.forEach(b),this.h()},h:function(){p(o,"name","description"),p(o,"content",d=n[0].bio),L(o,j,9,2,162),p(c,"class","text-3xl text-white mb-8 font-bold"),L(c,j,13,2,277),V(f.src,$=n[0].photoURL??"/user.png")||p(f,"src",$),p(f,"alt","photoURL"),p(f,"width","256"),p(f,"class","mx-auto rounded-md"),L(f,j,17,2,361),p(E,"class","text-xl my-8"),L(E,j,24,2,486),p(k,"class","list-none"),L(k,j,25,2,547),p(t,"class","prose text-center mx-auto mt-8"),L(t,j,12,0,228)},m:function(r,i){g(document.head,o),C(r,_,i),C(r,t,i),g(t,c),g(c,l),g(c,m),g(t,v),g(t,f),g(t,M),g(t,E),g(E,q),g(t,N),g(t,k);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(k,null);w=!0},p:function(r,[i]){if((!w||i&1)&&e!==(e="@"+r[0].username+" Links")&&(document.title=e),(!w||i&1&&d!==(d=r[0].bio))&&p(o,"content",d),(!w||i&1)&&u!==(u=r[0].username+"")&&X(m,u),(!w||i&1&&!V(f.src,$=r[0].photoURL??"/user.png"))&&p(f,"src",$),(!w||i&1)&&x!==(x=(r[0].bio??"no bio yet...")+"")&&X(q,x),i&1){P=W(r[0].links);let a;for(a=0;a<P.length;a+=1){const U=Z(r,P,a);s[a]?(s[a].p(U,i),B(s[a],1)):(s[a]=z(U),s[a].c(),B(s[a],1),s[a].m(k,null))}for(ke(),a=P.length;a<s.length;a+=1)te(a);pe()}},i:function(r){if(!w){for(let i=0;i<P.length;i+=1)B(s[i]);w=!0}},o:function(r){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)G(s[i]);w=!1},d:function(r){r&&(b(_),b(t)),b(o),me(s,r)}};return F("SvelteRegisterBlock",{block:J,id:D.name,type:"component",source:"",ctx:n}),J}function Re(n,e,o){let{$$slots:d={},$$scope:_}=e;_e("Page",d,[]);let{data:t}=e;n.$$.on_mount.push(function(){t===void 0&&!("data"in e||n.$$.bound[n.$$.props.data])&&console.warn("<Page> was created without expected prop 'data'")});const c=["data"];return Object.keys(e).forEach(l=>{!~c.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&console.warn(`<Page> was created with unknown prop '${l}'`)}),n.$$set=l=>{"data"in l&&o(0,t=l.data)},n.$capture_state=()=>({UserLink:ee,data:t}),n.$inject_state=l=>{"data"in l&&o(0,t=l.data)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[t]}class He extends he{constructor(e){super(e),fe(this,e,Re,D,ce,{data:0}),F("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:D.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{He as component,Te as universal};
